from start import MyHandler
import unittest
from unittest.mock import patch, MagicMock


class TestDoGET(unittest.TestCase):

    @patch('re.match')
    def test_updatelist_path(self, mock_match):
        # Setup
        mock_match.return_value = True  # Simulate path match
        mock_request = MagicMock()
        mock_client_address = ('127.0.0.1', 12345)

        # Instantiate the handler
        handler = MyHandler(mock_request, mock_client_address, None)
        handler.path = "/update/ps4/list/en/ps4-updatelist.xml"

        # Execute
        MyHandler.do_GET(handler)


if __name__ == '__main__':
    unittest.main()
